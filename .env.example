# ============================================
# Fusion+ Stellar Integration Environment Configuration
# ============================================
# This file contains all environment variables required for the mainnet deployment
# Fill in your actual values where indicated with YOUR_*_HERE

# ============================================
# 1inch API Configuration
# ============================================
# Required for accessing 1inch API endpoints (swap, quote, etc.)
# Get your API key from https://portal.1inch.dev/
ONEINCH_API_KEY=YOUR_1INCH_API_KEY_HERE

# ============================================
# Service Configuration
# ============================================
# Extended Resolver Service URL (runs on port 3003)
EXTENDED_RESOLVER_URL=http://localhost:3003

# Proxy Service Port (default: 3002)
PROXY_PORT=3002

# Environment: development | production
NODE_ENV=development

# Mock Mode: set to false for mainnet deployment
# IMPORTANT: Must be false for real transactions
MOCK_MODE=false

# Default chain ID (1 = Ethereum mainnet, 8453 = Base)
CHAIN_ID=8453

# ============================================
# Stellar Configuration
# ============================================
# Network: mainnet | testnet
STELLAR_NETWORK=mainnet

# Stellar Secret Keys (56 character strings starting with S)
# Test wallet for general operations
STELLAR_TEST_WALLET_SECRET=YOUR_STELLAR_SECRET_KEY_HERE

# Deployer account for factory operations (needs ~10 XLM)
STELLAR_DEPLOYER_SECRET=YOUR_STELLAR_DEPLOYER_SECRET_HERE

# Main resolver secret key
STELLAR_SECRET_KEY=YOUR_STELLAR_SECRET_KEY_HERE

# Stellar RPC URLs
STELLAR_RPC_URL=https://soroban-rpc.mainnet.stellar.gateway.fm
STELLAR_SOROBAN_RPC_URL=https://soroban-rpc.stellar.org
STELLAR_TESTNET_RPC_URL=https://soroban-testnet.stellar.org

# ============================================
# Stellar Contract IDs
# ============================================
# Factory Contract IDs (deploy using stellar-fusion-factory/deploy-*.sh)
# Mainnet factory (deployed 2025-08-01)
STELLAR_FACTORY_MAINNET=CDBO2XF6X6EJPI25DYZRDY3TEE2O4WTVZQN5YK5BVGU2I66X3LWEQQJL

# Testnet factory (already deployed)
STELLAR_FACTORY_TESTNET=CCQZ5LB3WA7XBJQYORYUUWAJDWCM7UXIEHHDNJWFSN6E337IZ4Q43MQG

# Legacy contract IDs (for backward compatibility)
STELLAR_CONTRACT_ID=CBPL4TVZUM4TAHSRISO4CNNPWAIGMQLUN5MB4MDVZ5ZL3SRRTN56CVNG
STELLAR_TESTNET_ESCROW_CONTRACT=

# ============================================
# Demo Stellar Addresses (Public Keys)
# ============================================
# These are example addresses used in demos - replace with your own
DEMO_STELLAR_USER=GA5J2WRMKZIWX5DMGAEXHHYSEWTEMSBCQGIK6YGDGYJWDL6TFMILVQWK
DEMO_STELLAR_RESOLVER=GCTMFTL6HLLA2KH5GKIQ5MGOMRR5ZRJCBZD4HFNWJEQEHPE6TCDG5TSF
USER_STELLAR_ADDRESS=GDIY6AQQ75WMD4W46EYB7O6UYMHOCGQHLAQGQTKHDX4J2DYQCHVCR4W4
RESOLVER_STELLAR_ADDRESS=GBDEY4FVMRWRQC6A6J2UKSHFQVHZN2UISTHIXZ2D5O7OMSQVJL5VELSF

# ============================================
# Base Configuration
# ============================================
# Private Key (64 character hex string without 0x prefix)
# CRITICAL: Keep this secret!
BASE_PRIVATE_KEY=YOUR_BASE_PRIVATE_KEY_HERE

# Contract Addresses
# Base Resolver (deployed 2025-08-01)
RESOLVER_ADDRESS=0x8Da2180238380Fcf16Af6e6d9c8d2620E5093dA1

# Escrow Factory Address
# Base Mainnet (our deployment)
BASE_ESCROW_FACTORY=0xe7e9E1B7D4BE66D596D8f599c892ffdfFD8dD866

# ============================================
# RPC URLs
# ============================================
# Base Network
BASE_RPC_URL=https://mainnet.base.org

# Cross-chain resolver RPC configuration
SRC_CHAIN_RPC=https://mainnet.base.org
DST_CHAIN_RPC=https://soroban-rpc.stellar.org
SRC_CHAIN_CREATE_FORK=false
DST_CHAIN_CREATE_FORK=false

# ============================================
# Important Contract Addresses (Reference)
# ============================================
# Base USDC (native Circle USDC): 0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913
# Stellar USDC: CCW67TSZV3SSS2HXMBQ5JFGCKJNXKZM7UQUWUZPUTHXSTZLEO7SJMI75
# 1inch LOP (Base): 0x111111125421ca6dc452d289314280a0f8842a65
# 1inch Factory (Base): 0x12b0c36e84466ae7e0cfb895b5d02b6d27d79ba5

# ============================================
# Deployment Checklist
# ============================================
# 1. Deploy Stellar Factory:
#    cd stellar-fusion-factory && ./deploy-and-init.sh
#    Update STELLAR_FACTORY_MAINNET with the deployed ID
#
# 2. Deploy Base Resolver:
#    npx hardhat run scripts/deploy-base-resolver.ts --network base
#    Update RESOLVER_ADDRESS with the deployed address
#
# 3. Fund accounts:
#    - Base: 0.01 ETH + 100 USDC
#    - Stellar: 50 XLM + 100 USDC (establish trustline first)
#
# 4. Remove mock mode:
#    ./scripts/remove-mock-mode.sh
#
# 5. Test mainnet swap:
#    ./scripts/test-mainnet-swap.sh